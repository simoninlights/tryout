<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
    <script id="CcIframeApiScript" type="text/javascript" src="https://github.com/simoninlights/tryout/Resources/Generated/IframeApi.js">
    </script>
    
</head>
<body>
    <button class="header__button" id="finish" disabled="disabled">
    Save
</button>
    <iframe id="editorFrame" width="100%" height="500px"></iframe>
    <script>
    document.addEventListener('DOMContentLoaded', async () => {
        const product = "flyer";
        const config = {
            userId: "12345"
        };

        var editor = await CustomersCanvas.IframeApi.loadEditor(
            document.getElementById("editorFrame"), product, config);
    });
        document.getElementById("finish").removeAttribute("disabled");
        document.getElementById('finish').addEventListener('click', async () => {
            let result = await editor.finishProductDesign();
            console.log("Pass to reopen the design (private design id and user id accordingly): ", result.stateId, result.userId);
            console.log("Links to print-ready files: ", result.hiResUrls);
            console.log("Links to proof images: ", result.proofImageUrls);
        });
    });
</script>
</body>
</html>
